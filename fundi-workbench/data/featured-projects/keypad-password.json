{
  "id": "keypad-password",
  "name": "Keypad Password Lock",
  "description": "4x4 membrane keypad for password entry with LED feedback",
  "difficulty": "intermediate",
  "tags": ["keypad", "input", "security", "password", "led"],
  "estimatedTime": "20 min",
  "diagram": {
    "version": 1,
    "author": "FUNDI Featured",
    "editor": "wokwi",
    "parts": [
      { "type": "wokwi-arduino-uno", "id": "uno", "top": 0, "left": 0 },
      { "type": "wokwi-membrane-keypad", "id": "keypad1", "top": -250, "left": 80 },
      { "type": "wokwi-led", "id": "led-green", "top": -100, "left": 280, "attrs": { "color": "green" } },
      { "type": "wokwi-led", "id": "led-red", "top": -100, "left": 320, "attrs": { "color": "red" } },
      { "type": "wokwi-resistor", "id": "r1", "top": -60, "left": 280, "attrs": { "value": "220" } },
      { "type": "wokwi-resistor", "id": "r2", "top": -60, "left": 320, "attrs": { "value": "220" } }
    ],
    "connections": [
      ["keypad1:R1", "uno:9", "purple", []],
      ["keypad1:R2", "uno:8", "purple", []],
      ["keypad1:R3", "uno:7", "purple", []],
      ["keypad1:R4", "uno:6", "purple", []],
      ["keypad1:C1", "uno:5", "blue", []],
      ["keypad1:C2", "uno:4", "blue", []],
      ["keypad1:C3", "uno:3", "blue", []],
      ["keypad1:C4", "uno:2", "blue", []],
      ["uno:12", "r1:1", "green", []],
      ["r1:2", "led-green:A", "green", []],
      ["led-green:C", "uno:GND.1", "black", []],
      ["uno:11", "r2:1", "red", []],
      ["r2:2", "led-red:A", "red", []],
      ["led-red:C", "uno:GND.2", "black", []]
    ]
  },
  "code": "// Keypad Password Lock\n// Enter a 4-digit code to unlock\n\n#include <Keypad.h>\n\nconst byte ROWS = 4;\nconst byte COLS = 4;\n\nchar keys[ROWS][COLS] = {\n  {'1', '2', '3', 'A'},\n  {'4', '5', '6', 'B'},\n  {'7', '8', '9', 'C'},\n  {'*', '0', '#', 'D'}\n};\n\nbyte rowPins[ROWS] = {9, 8, 7, 6};\nbyte colPins[COLS] = {5, 4, 3, 2};\n\nKeypad keypad = Keypad(makeKeymap(keys), rowPins, colPins, ROWS, COLS);\n\nconst int GREEN_LED = 12;\nconst int RED_LED = 11;\n\n// The secret password\nconst String PASSWORD = \"1234\";\n\nString enteredCode = \"\";\nconst int CODE_LENGTH = 4;\n\nvoid setup() {\n  pinMode(GREEN_LED, OUTPUT);\n  pinMode(RED_LED, OUTPUT);\n  \n  Serial.begin(9600);\n  Serial.println(\"=== Keypad Password Lock ===\");\n  Serial.println(\"Enter 4-digit password:\");\n  Serial.println(\"Press * to clear, # to submit\");\n  Serial.println();\n  \n  // Startup blink\n  digitalWrite(RED_LED, HIGH);\n  delay(200);\n  digitalWrite(RED_LED, LOW);\n}\n\nvoid showGranted() {\n  Serial.println(\">>> ACCESS GRANTED! <<<\");\n  for (int i = 0; i < 3; i++) {\n    digitalWrite(GREEN_LED, HIGH);\n    delay(200);\n    digitalWrite(GREEN_LED, LOW);\n    delay(200);\n  }\n}\n\nvoid showDenied() {\n  Serial.println(\">>> ACCESS DENIED! <<<\");\n  for (int i = 0; i < 3; i++) {\n    digitalWrite(RED_LED, HIGH);\n    delay(200);\n    digitalWrite(RED_LED, LOW);\n    delay(200);\n  }\n}\n\nvoid loop() {\n  char key = keypad.getKey();\n  \n  if (key) {\n    Serial.print(\"Key pressed: \");\n    Serial.println(key);\n    \n    if (key == '*') {\n      // Clear entered code\n      enteredCode = \"\";\n      Serial.println(\"[Code cleared]\");\n    } else if (key == '#') {\n      // Check password\n      Serial.print(\"Checking code: \");\n      Serial.println(enteredCode);\n      \n      if (enteredCode == PASSWORD) {\n        showGranted();\n      } else {\n        showDenied();\n      }\n      enteredCode = \"\";\n      Serial.println(\"\\nEnter password:\");\n    } else if (enteredCode.length() < CODE_LENGTH) {\n      // Add digit to code\n      enteredCode += key;\n      Serial.print(\"Code so far: \");\n      // Show asterisks for security\n      for (int i = 0; i < enteredCode.length(); i++) {\n        Serial.print(\"*\");\n      }\n      Serial.println();\n    }\n  }\n}"
}
